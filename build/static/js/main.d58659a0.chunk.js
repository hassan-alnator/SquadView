(this.webpackJsonpallocation_widget=this.webpackJsonpallocation_widget||[]).push([[0],{219:function(e,t,r){"use strict";r.r(t);var n=r(0),a=r.n(n),o=r(28),c=r.n(o),u=r(4),s=r(6),i=r(76),l=Object(s.combineReducers)({token:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;return"FETCH"===t.type?t.payload:e},employees:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return"FETCH_ALL"===t.type?t.payload:e}}),p=r(3),v=r.n(p),d=r(5),f=r(43),g=r.n(f),m=function(){var e=Object(d.a)(v.a.mark((function e(t){var r;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.a.post("http://cms.avertra.com/auth/local",{identifier:"Cms@avertra.com",password:"Avertra@2021"});case 3:return r=e.sent,console.log(r.data.jwt,"token"),e.abrupt("return",r.data.jwt);case 8:return e.prev=8,e.t0=e.catch(0),console.error(e.t0),e.abrupt("return","");case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),h=function(){var e=Object(d.a)(v.a.mark((function e(t){var r,n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"http://cms.avertra.com/employees",r={Authorization:"Bearer "+t},e.prev=2,e.next=5,g.a.get("http://cms.avertra.com/employees",{headers:r});case 5:return n=e.sent,e.abrupt("return",n.data);case 9:return e.prev=9,e.t0=e.catch(2),console.error(e.t0),e.abrupt("return",[]);case 13:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}(),b=r(15),y={beginDrag:function(e){return console.log("Being Darged"),e.item},endDrag:function(e,t){if(console.log("End Darged"),t.didDrop())return e.handleDrop(e.item.id)}};var w=Object(b.DragSource)("item",y,(function(e,t){return{connectDragSource:e.dragSource(),isDragging:t.isDragging()}}))((function(e){var t=e.connectDragSource;return e.isDragging,console.log(e,"proooooops"),t(a.a.createElement("div",null,a.a.createElement("ul",null,e.employee.Name)))}));var j=r(77),D=r.n(j);var E=Object(b.DragDropContext)(D.a)((function(){var e=Object(u.b)(),t=Object(u.c)((function(e){return e.employees}));return Object(n.useEffect)((function(){e(function(){var e=Object(d.a)(v.a.mark((function e(t){var r;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m();case 3:r=e.sent,t({type:"FETCH",payload:r}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()),e(function(){var e=Object(d.a)(v.a.mark((function e(t){var r;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h(k.getState().token);case 3:r=e.sent,t({type:"FETCH_ALL",payload:r}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}())}),[e]),a.a.createElement("div",null,"SURA",t.map((function(e){return a.a.createElement(w,{employee:e,key:e.id})})))})),O=Object(s.createStore)(l,Object(s.compose)(Object(s.applyMiddleware)(i.a)));c.a.render(a.a.createElement(u.a,{store:O},a.a.createElement(E,null)),document.getElementById("root"));var k=t.default=O}},[[219,1,2]]]);
//# sourceMappingURL=main.d58659a0.chunk.js.map