{"ast":null,"code":"import * as fetchApi from \"../helpers/Api/fetchDataApi.js\";\nimport * as functionallity from \"../helpers/functionallity/updateTeams\";\nimport * as updateEmployee from \"../helpers/functionallity/updateEmployee\";\nimport * as fetch from \"../helpers/Api/fetchDataApi\";\nimport store from \"../index\"; // action Creators\n\nexport const getTeams = () => async dispatch => {\n  try {\n    const data = await fetchApi.fetchTeams(store.getState().token);\n    teamsUpdated = teamsUpdated.filter(team => team.alliance == null);\n    dispatch({\n      type: \"FETCH_ALL_TEAMS\",\n      payload: data\n    });\n    return data;\n  } catch (err) {\n    console.log(err);\n  }\n};\nexport const AddTeam = (teams, NewTeamName) => async dispatch => {\n  try {\n    await functionallity.addNewTeam(NewTeamName);\n    const teams = await fetch.fetchTeams(store.getState().token);\n    dispatch({\n      type: \"UPDATE_TEAMS\",\n      payload: teams\n    });\n  } catch (err) {\n    console.log(err);\n  }\n};\nexport const updateTeam = team => async dispatch => {\n  try {\n    const teams = await functionallity.updateTeams(team);\n    dispatch({\n      type: \"UPDATE_TEAMS\",\n      payload: teams\n    });\n    const alliancesUpdated = await fetch.fetchAlliances(store.getState().token);\n    dispatch({\n      type: \"UPDATE_ALLIANCES\",\n      payload: alliancesUpdated\n    });\n  } catch (err) {\n    console.log(err);\n  }\n};\nexport const deleteTeam = (team, teams) => async dispatch => {\n  try {\n    const teamsAfterDelete = await functionallity.deleteTeam(team, teams);\n    dispatch({\n      type: \"UPDATE_TEAMS\",\n      payload: teamsAfterDelete\n    });\n    const alliancesUpdated = await fetch.fetchAlliances(store.getState().token);\n    dispatch({\n      type: \"UPDATE_ALLIANCES\",\n      payload: alliancesUpdated\n    });\n  } catch (err) {\n    console.log(err);\n  }\n};\nexport const addEmployeeToTeam = (employee, team) => async dispatch => {\n  try {\n    const updatedEmployee = await updateEmployee.updateEmployee(employee, team);\n    const teamsUpdated = await functionallity.addEmployeeToTeam(updatedEmployee, team);\n    const alliancesUpdated = await fetch.fetchAlliances(store.getState().token);\n    dispatch({\n      type: \"UPDATE_TEAMS\",\n      payload: teamsUpdated\n    });\n    dispatch({\n      type: \"UPDATE_ALLIANCES\",\n      payload: alliancesUpdated\n    });\n  } catch (err) {\n    console.log(err);\n  }\n};","map":{"version":3,"sources":["C:/Users/salaqaily/Downloads/New folder (11)/New folder - Copy/allocation_widget/src/actions/teams.js"],"names":["fetchApi","functionallity","updateEmployee","fetch","store","getTeams","dispatch","data","fetchTeams","getState","token","teamsUpdated","filter","team","alliance","type","payload","err","console","log","AddTeam","teams","NewTeamName","addNewTeam","updateTeam","updateTeams","alliancesUpdated","fetchAlliances","deleteTeam","teamsAfterDelete","addEmployeeToTeam","employee","updatedEmployee"],"mappings":"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","sourcesContent":["import * as fetchApi from \"../helpers/Api/fetchDataApi.js\";\r\nimport * as functionallity from \"../helpers/functionallity/updateTeams\";\r\nimport * as updateEmployee from \"../helpers/functionallity/updateEmployee\";\r\nimport * as fetch from \"../helpers/Api/fetchDataApi\";\r\nimport store from \"../index\";\r\n// action Creators\r\nexport const getTeams = () => async (dispatch) => {\r\n  try {\r\n    const data = await fetchApi.fetchTeams(store.getState().token);\r\n          teamsUpdated = teamsUpdated.filter((team) => team.alliance == null);\r\n\r\n    dispatch({ type: \"FETCH_ALL_TEAMS\", payload: data });\r\n    return data;\r\n  } catch (err) {\r\n    console.log(err);\r\n  }\r\n};\r\nexport const AddTeam = (teams, NewTeamName) => async (dispatch) => {\r\n  try {\r\n    await functionallity.addNewTeam(NewTeamName);\r\n    const teams = await fetch.fetchTeams(store.getState().token);\r\n    dispatch({ type: \"UPDATE_TEAMS\", payload: teams });\r\n  } catch (err) {\r\n    console.log(err);\r\n  }\r\n};\r\nexport const updateTeam = (team) => async (dispatch) => {\r\n  try {\r\n    const teams = await functionallity.updateTeams(team);\r\n    dispatch({ type: \"UPDATE_TEAMS\", payload: teams });\r\n    const alliancesUpdated = await fetch.fetchAlliances(store.getState().token);\r\n    dispatch({ type: \"UPDATE_ALLIANCES\", payload: alliancesUpdated });\r\n  } catch (err) {\r\n    console.log(err);\r\n  }\r\n};\r\nexport const deleteTeam = (team, teams) => async (dispatch) => {\r\n  try {\r\n    const teamsAfterDelete = await functionallity.deleteTeam(team, teams);\r\n    dispatch({ type: \"UPDATE_TEAMS\", payload: teamsAfterDelete });\r\n    const alliancesUpdated = await fetch.fetchAlliances(store.getState().token);\r\n    dispatch({ type: \"UPDATE_ALLIANCES\", payload: alliancesUpdated });\r\n  } catch (err) {\r\n    console.log(err);\r\n  }\r\n};\r\n\r\nexport const addEmployeeToTeam = (employee, team) => async (dispatch) => {\r\n  try {\r\n    const updatedEmployee = await updateEmployee.updateEmployee(employee, team);\r\n    const teamsUpdated = await functionallity.addEmployeeToTeam(\r\n      updatedEmployee,\r\n      team\r\n    );\r\n    const alliancesUpdated = await fetch.fetchAlliances(store.getState().token);\r\n    dispatch({ type: \"UPDATE_TEAMS\", payload: teamsUpdated });\r\n    dispatch({ type: \"UPDATE_ALLIANCES\", payload: alliancesUpdated });\r\n  } catch (err) {\r\n    console.log(err);\r\n  }\r\n};\r\n"]},"metadata":{},"sourceType":"module"}