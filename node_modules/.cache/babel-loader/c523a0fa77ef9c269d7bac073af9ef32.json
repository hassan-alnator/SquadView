{"ast":null,"code":"import * as fetchApi from \"../helpers/Api/fetchDataApi.js\";\nimport * as functionallity from \"../helpers/functionallity/updateTeams\";\nimport * as fetch from \"../helpers/Api/fetchDataApi\";\nimport store from \"../index\";\nimport employees from \"../reducers/employees.js\"; // action Creators\n\nexport const getTeams = () => async dispatch => {\n  try {\n    const data = await fetchApi.fetchTeams(store.getState().token);\n    dispatch({\n      type: \"FETCH_ALL_TEAMS\",\n      payload: data\n    });\n  } catch (err) {\n    console.log(err);\n  }\n};\nexport const AddTeam = (teams, NewTeamName) => async dispatch => {\n  try {\n    const newTeam = await functionallity.addNewTeam(NewTeamName);\n    dispatch({\n      type: \"UPDATE_TEAMS\",\n      payload: teams.concat(newTeam)\n    });\n  } catch (err) {\n    console.log(err);\n  }\n}; // export const updateTeam = (team) => async (dispatch) => {\n//   try {\n//     const teams = await functionallity.updateTeams(team);\n//     const alliancesUpdated = await fetch.fetchAlliances(store.getState().token);\n//     const employeesUpdated = await fetch.fetchEmployees(store.getState().token);\n//     dispatch({ type: \"UPDATE_EMPLOYEES\", payload: employeesUpdated });\n//     dispatch({ type: \"UPDATE_TEAMS\", payload: teams });\n//     dispatch({ type: \"UPDATE_ALLIANCES\", payload: alliancesUpdated });\n//   } catch (err) {\n//     console.log(err);\n//   }\n// };\n// export const deleteTeam = (team, teams) => async (dispatch) => {\n//   try {\n//     const teamsAfterDelete = await functionallity.deleteTeam(team, teams);\n//     const alliancesUpdated = await fetch.fetchAlliances(store.getState().token);\n//     const employeesUpdated = await fetch.fetchEmployees(store.getState().token);\n//     dispatch({ type: \"UPDATE_TEAMS\", payload: teamsAfterDelete });\n//     dispatch({ type: \"UPDATE_ALLIANCES\", payload: alliancesUpdated });\n//     dispatch({ type: \"UPDATE_EMPLOYEES\", payload: employeesUpdated });\n//   } catch (err) {\n//     console.log(err);\n//   }\n// };\n\nexport const addEmployeeToTeam = (employee, team) => async dispatch => {\n  try {\n    await functionallity.addEmployeeToTeam(employee, team);\n    const teamsUpdated = await fetch.fetchTeams(store.getState().token);\n    const alliancesUpdated = await fetch.fetchAlliances(store.getState().token);\n    const employeesUpdated = await fetch.fetchEmployees(store.getState().token);\n    console.log(employeesUpdated, \"employeesUpdated\");\n    console.log(teamsUpdated, \"teamsUpdated\");\n    dispatch({\n      type: \"UPDATE_EMPLOYEES\",\n      payload: employeesUpdated\n    });\n    dispatch({\n      type: \"UPDATE_TEAMS\",\n      payload: teamsUpdated\n    });\n    dispatch({\n      type: \"UPDATE_ALLIANCES\",\n      payload: alliancesUpdated\n    });\n  } catch (err) {\n    console.log(err);\n  }\n};","map":{"version":3,"sources":["C:/Users/salaqaily/Desktop/New folder/allocation_widget/src/actions/teams.js"],"names":["fetchApi","functionallity","fetch","store","employees","getTeams","dispatch","data","fetchTeams","getState","token","type","payload","err","console","log","AddTeam","teams","NewTeamName","newTeam","addNewTeam","concat","addEmployeeToTeam","employee","team","teamsUpdated","alliancesUpdated","fetchAlliances","employeesUpdated","fetchEmployees"],"mappings":"AAAA,OAAO,KAAKA,QAAZ,MAA0B,gCAA1B;AACA,OAAO,KAAKC,cAAZ,MAAgC,uCAAhC;AACA,OAAO,KAAKC,KAAZ,MAAuB,6BAAvB;AACA,OAAOC,KAAP,MAAkB,UAAlB;AACA,OAAOC,SAAP,MAAsB,0BAAtB,C,CACA;;AACA,OAAO,MAAMC,QAAQ,GAAG,MAAM,MAAOC,QAAP,IAAoB;AAChD,MAAI;AACF,UAAMC,IAAI,GAAG,MAAMP,QAAQ,CAACQ,UAAT,CAAoBL,KAAK,CAACM,QAAN,GAAiBC,KAArC,CAAnB;AACAJ,IAAAA,QAAQ,CAAC;AAAEK,MAAAA,IAAI,EAAE,iBAAR;AAA2BC,MAAAA,OAAO,EAAEL;AAApC,KAAD,CAAR;AACD,GAHD,CAGE,OAAOM,GAAP,EAAY;AACZC,IAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AACD;AACF,CAPM;AAQP,OAAO,MAAMG,OAAO,GAAG,CAACC,KAAD,EAAQC,WAAR,KAAwB,MAAOZ,QAAP,IAAoB;AACjE,MAAI;AACF,UAAMa,OAAO,GAAG,MAAMlB,cAAc,CAACmB,UAAf,CAA0BF,WAA1B,CAAtB;AACAZ,IAAAA,QAAQ,CAAC;AAAEK,MAAAA,IAAI,EAAE,cAAR;AAAwBC,MAAAA,OAAO,EAAEK,KAAK,CAACI,MAAN,CAAaF,OAAb;AAAjC,KAAD,CAAR;AACD,GAHD,CAGE,OAAON,GAAP,EAAY;AACZC,IAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AACD;AACF,CAPM,C,CAQP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,OAAO,MAAMS,iBAAiB,GAAG,CAACC,QAAD,EAAWC,IAAX,KAAoB,MAAOlB,QAAP,IAAoB;AACvE,MAAI;AACF,UAAML,cAAc,CAACqB,iBAAf,CAAiCC,QAAjC,EAA2CC,IAA3C,CAAN;AACA,UAAMC,YAAY,GAAG,MAAMvB,KAAK,CAACM,UAAN,CAAiBL,KAAK,CAACM,QAAN,GAAiBC,KAAlC,CAA3B;AACA,UAAMgB,gBAAgB,GAAG,MAAMxB,KAAK,CAACyB,cAAN,CAAqBxB,KAAK,CAACM,QAAN,GAAiBC,KAAtC,CAA/B;AACA,UAAMkB,gBAAgB,GAAG,MAAM1B,KAAK,CAAC2B,cAAN,CAAqB1B,KAAK,CAACM,QAAN,GAAiBC,KAAtC,CAA/B;AACAI,IAAAA,OAAO,CAACC,GAAR,CAAYa,gBAAZ,EAA8B,kBAA9B;AACAd,IAAAA,OAAO,CAACC,GAAR,CAAYU,YAAZ,EAA0B,cAA1B;AAEAnB,IAAAA,QAAQ,CAAC;AAAEK,MAAAA,IAAI,EAAE,kBAAR;AAA4BC,MAAAA,OAAO,EAAEgB;AAArC,KAAD,CAAR;AACAtB,IAAAA,QAAQ,CAAC;AAAEK,MAAAA,IAAI,EAAE,cAAR;AAAwBC,MAAAA,OAAO,EAAEa;AAAjC,KAAD,CAAR;AACAnB,IAAAA,QAAQ,CAAC;AAAEK,MAAAA,IAAI,EAAE,kBAAR;AAA4BC,MAAAA,OAAO,EAAEc;AAArC,KAAD,CAAR;AACD,GAXD,CAWE,OAAOb,GAAP,EAAY;AACZC,IAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AACD;AACF,CAfM","sourcesContent":["import * as fetchApi from \"../helpers/Api/fetchDataApi.js\";\r\nimport * as functionallity from \"../helpers/functionallity/updateTeams\";\r\nimport * as fetch from \"../helpers/Api/fetchDataApi\";\r\nimport store from \"../index\";\r\nimport employees from \"../reducers/employees.js\";\r\n// action Creators\r\nexport const getTeams = () => async (dispatch) => {\r\n  try {\r\n    const data = await fetchApi.fetchTeams(store.getState().token);\r\n    dispatch({ type: \"FETCH_ALL_TEAMS\", payload: data });\r\n  } catch (err) {\r\n    console.log(err);\r\n  }\r\n};\r\nexport const AddTeam = (teams, NewTeamName) => async (dispatch) => {\r\n  try {\r\n    const newTeam = await functionallity.addNewTeam(NewTeamName);\r\n    dispatch({ type: \"UPDATE_TEAMS\", payload: teams.concat(newTeam) });\r\n  } catch (err) {\r\n    console.log(err);\r\n  }\r\n};\r\n// export const updateTeam = (team) => async (dispatch) => {\r\n//   try {\r\n//     const teams = await functionallity.updateTeams(team);\r\n//     const alliancesUpdated = await fetch.fetchAlliances(store.getState().token);\r\n//     const employeesUpdated = await fetch.fetchEmployees(store.getState().token);\r\n//     dispatch({ type: \"UPDATE_EMPLOYEES\", payload: employeesUpdated });\r\n//     dispatch({ type: \"UPDATE_TEAMS\", payload: teams });\r\n//     dispatch({ type: \"UPDATE_ALLIANCES\", payload: alliancesUpdated });\r\n//   } catch (err) {\r\n//     console.log(err);\r\n//   }\r\n// };\r\n// export const deleteTeam = (team, teams) => async (dispatch) => {\r\n//   try {\r\n//     const teamsAfterDelete = await functionallity.deleteTeam(team, teams);\r\n//     const alliancesUpdated = await fetch.fetchAlliances(store.getState().token);\r\n//     const employeesUpdated = await fetch.fetchEmployees(store.getState().token);\r\n//     dispatch({ type: \"UPDATE_TEAMS\", payload: teamsAfterDelete });\r\n//     dispatch({ type: \"UPDATE_ALLIANCES\", payload: alliancesUpdated });\r\n//     dispatch({ type: \"UPDATE_EMPLOYEES\", payload: employeesUpdated });\r\n//   } catch (err) {\r\n//     console.log(err);\r\n//   }\r\n// };\r\n\r\nexport const addEmployeeToTeam = (employee, team) => async (dispatch) => {\r\n  try {\r\n    await functionallity.addEmployeeToTeam(employee, team);\r\n    const teamsUpdated = await fetch.fetchTeams(store.getState().token);\r\n    const alliancesUpdated = await fetch.fetchAlliances(store.getState().token);\r\n    const employeesUpdated = await fetch.fetchEmployees(store.getState().token);\r\n    console.log(employeesUpdated, \"employeesUpdated\");\r\n    console.log(teamsUpdated, \"teamsUpdated\");\r\n\r\n    dispatch({ type: \"UPDATE_EMPLOYEES\", payload: employeesUpdated });\r\n    dispatch({ type: \"UPDATE_TEAMS\", payload: teamsUpdated });\r\n    dispatch({ type: \"UPDATE_ALLIANCES\", payload: alliancesUpdated });\r\n  } catch (err) {\r\n    console.log(err);\r\n  }\r\n};\r\n"]},"metadata":{},"sourceType":"module"}