{"ast":null,"code":"import axios from \"axios\";\nimport store from \"../../index\"; // action Creators\n\nconst update = team => async dispatch => {\n  try {\n    const data = await api.fetchTeams(store.getState().token);\n    dispatch({\n      type: \"FETCH_ALL_TEAMS\",\n      payload: data\n    });\n  } catch (err) {\n    console.log(err);\n  }\n};\n\nconst addTeamToAllianceApi = async (team, alliance) => {\n  var data = JSON.stringify({\n    alliance: alliance.id\n  });\n  const team_url = `http://cms.avertra.com/teams/${team.id}`;\n  var config = {\n    method: \"put\",\n    url: team_url,\n    headers: {\n      Authorization: \"Bearer \" + store.getState().token,\n      \"Content-Type\": \"application/json\"\n    },\n    data: data\n  };\n  axios(config).then(function (response) {\n    console.log(\"team added to alliance\");\n  }).catch(function (error) {\n    console.log(error);\n  });\n};\n\nconst getTeamBelongToThisAlliance = async alliance => {\n  var config = {\n    method: \"get\",\n    url: `http://cms.avertra.com/teams?alliance.id=${alliance.id}`,\n    headers: {\n      Authorization: \"Bearer \" + store.getState().token\n    }\n  };\n  axios(config).then(function (response) {\n    var teams = JSON.stringify(response.data);\n    localStorage.setItem(`${alliance.id}`, teams);\n    return response.data;\n  }).catch(function (error) {\n    console.log(error);\n    return [];\n  });\n};\n\nconst createNewTeam = async NewTeamName => {\n  var data = JSON.stringify({\n    Name: NewTeamName\n  });\n  var config = {\n    method: \"post\",\n    url: \"http://cms.avertra.com/teams\",\n    headers: {\n      Authorization: \"Bearer \" + store.getState().token,\n      \"Content-Type\": \"application/json\"\n    },\n    data: data\n  };\n  axios(config).then(function (response) {\n    // action Creators\n    dispatch({\n      type: \"UPDATE_TEAMS\",\n      payload: response.data\n    });\n  }).catch(function (error) {\n    console.log(error);\n  });\n};\n\nconst deleteTeam = async team_id => {\n  var config = {\n    method: \"delete\",\n    url: `http://cms.avertra.com/teams/${team_id}`,\n    headers: {\n      Authorization: \"Bearer \" + store.getState().token\n    }\n  };\n  axios(config).then(function (response) {\n    console.log(\"Done\");\n  }).catch(function (error) {\n    console.log(error);\n  });\n};\n\nexport { addTeamToAllianceApi, getTeamBelongToThisAlliance, createNewTeam, deleteTeam };","map":{"version":3,"sources":["C:/Users/salaqaily/Desktop/New folder/allocation_widget/src/helpers/Api/helperApis.js"],"names":["axios","store","update","team","dispatch","data","api","fetchTeams","getState","token","type","payload","err","console","log","addTeamToAllianceApi","alliance","JSON","stringify","id","team_url","config","method","url","headers","Authorization","then","response","catch","error","getTeamBelongToThisAlliance","teams","localStorage","setItem","createNewTeam","NewTeamName","Name","deleteTeam","team_id"],"mappings":"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","sourcesContent":["import axios from \"axios\";\r\nimport store from \"../../index\";\r\n// action Creators\r\nconst update = (team) => async (dispatch) => {\r\n  try {\r\n    const data = await api.fetchTeams(store.getState().token);\r\n    dispatch({ type: \"FETCH_ALL_TEAMS\", payload: data });\r\n  } catch (err) {\r\n    console.log(err);\r\n  }\r\n};\r\n\r\nconst addTeamToAllianceApi = async (team, alliance) => {\r\n  var data = JSON.stringify({\r\n    alliance: alliance.id,\r\n  });\r\n  const team_url = `http://cms.avertra.com/teams/${team.id}`;\r\n\r\n  var config = {\r\n    method: \"put\",\r\n    url: team_url,\r\n    headers: {\r\n      Authorization: \"Bearer \" + store.getState().token,\r\n      \"Content-Type\": \"application/json\",\r\n    },\r\n    data: data,\r\n  };\r\n\r\n  axios(config)\r\n    .then(function (response) {\r\n      console.log(\"team added to alliance\");\r\n    })\r\n    .catch(function (error) {\r\n      console.log(error);\r\n    });\r\n};\r\n\r\nconst getTeamBelongToThisAlliance = async (alliance) => {\r\n  var config = {\r\n    method: \"get\",\r\n    url: `http://cms.avertra.com/teams?alliance.id=${alliance.id}`,\r\n    headers: {\r\n      Authorization: \"Bearer \" + store.getState().token,\r\n    },\r\n  };\r\n  axios(config)\r\n    .then(function (response) {\r\n      var teams = JSON.stringify(response.data);\r\n\r\n      localStorage.setItem(`${alliance.id}`, teams);\r\n\r\n      return response.data;\r\n    })\r\n    .catch(function (error) {\r\n      console.log(error);\r\n      return [];\r\n    });\r\n};\r\nconst createNewTeam = async (NewTeamName) => {\r\n  var data = JSON.stringify({\r\n    Name: NewTeamName,\r\n  });\r\n  var config = {\r\n    method: \"post\",\r\n    url: \"http://cms.avertra.com/teams\",\r\n    headers: {\r\n      Authorization: \"Bearer \" + store.getState().token,\r\n      \"Content-Type\": \"application/json\",\r\n    },\r\n    data: data,\r\n  };\r\n\r\n  axios(config)\r\n    .then(function (response) {\r\n      // action Creators\r\n      dispatch({ type: \"UPDATE_TEAMS\", payload: response.data });\r\n    })\r\n    .catch(function (error) {\r\n      console.log(error);\r\n    });\r\n};\r\nconst deleteTeam = async (team_id) => {\r\n  var config = {\r\n    method: \"delete\",\r\n    url: `http://cms.avertra.com/teams/${team_id}`,\r\n    headers: {\r\n      Authorization: \"Bearer \" + store.getState().token,\r\n    },\r\n  };\r\n  axios(config)\r\n    .then(function (response) {\r\n      console.log(\"Done\");\r\n    })\r\n    .catch(function (error) {\r\n      console.log(error);\r\n    });\r\n};\r\n\r\nexport {\r\n  addTeamToAllianceApi,\r\n  getTeamBelongToThisAlliance,\r\n  createNewTeam,\r\n  deleteTeam,\r\n};\r\n"]},"metadata":{},"sourceType":"module"}