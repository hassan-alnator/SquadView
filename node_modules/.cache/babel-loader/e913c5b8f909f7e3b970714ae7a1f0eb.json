{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/salaqaily/Desktop/New folder/allocation_widget/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/salaqaily/Desktop/New folder/allocation_widget/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import axios from\"axios\";var fetchToken=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(setToken){var resp;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios.post(\"http://cms.avertra.com/auth/local\",{identifier:\"Cms@avertra.com\",password:\"Avertra@2021\"});case 3:resp=_context.sent;console.log(resp.data.jwt,\"token\");return _context.abrupt(\"return\",resp.data.jwt);case 8:_context.prev=8;_context.t0=_context[\"catch\"](0);console.error(_context.t0);return _context.abrupt(\"return\",\"\");case 12:case\"end\":return _context.stop();}}},_callee,null,[[0,8]]);}));return function fetchToken(_x){return _ref.apply(this,arguments);};}();var fetchEmployees=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(token){var emp_url,headers,resp;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:emp_url=\"http://cms.avertra.com/employees\";headers={Authorization:\"Bearer \"+token};_context2.prev=2;_context2.next=5;return axios.get(emp_url,{headers:headers});case 5:resp=_context2.sent;return _context2.abrupt(\"return\",resp.data);case 9:_context2.prev=9;_context2.t0=_context2[\"catch\"](2);console.error(_context2.t0);return _context2.abrupt(\"return\",[]);case 13:case\"end\":return _context2.stop();}}},_callee2,null,[[2,9]]);}));return function fetchEmployees(_x2){return _ref2.apply(this,arguments);};}();export{fetchToken,fetchEmployees};","map":{"version":3,"sources":["C:/Users/salaqaily/Desktop/New folder/allocation_widget/src/helpers/Api.js"],"names":["axios","fetchToken","setToken","post","identifier","password","resp","console","log","data","jwt","error","fetchEmployees","token","emp_url","headers","Authorization","get"],"mappings":"yVAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CAEA,GAAMC,CAAAA,UAAU,0FAAG,iBAAOC,QAAP,iKAEIF,CAAAA,KAAK,CAACG,IAAN,CAAW,mCAAX,CAAgD,CACjEC,UAAU,CAAE,iBADqD,CAEjEC,QAAQ,CAAE,cAFuD,CAAhD,CAFJ,QAETC,IAFS,eAMfC,OAAO,CAACC,GAAR,CAAYF,IAAI,CAACG,IAAL,CAAUC,GAAtB,CAA2B,OAA3B,EANe,gCAORJ,IAAI,CAACG,IAAL,CAAUC,GAPF,0DASfH,OAAO,CAACI,KAAR,cATe,gCAUR,EAVQ,sEAAH,kBAAVV,CAAAA,UAAU,4CAAhB,CAcA,GAAMW,CAAAA,cAAc,2FAAG,kBAAOC,KAAP,+IACfC,OADe,CACL,kCADK,CAEfC,OAFe,CAEL,CAAEC,aAAa,CAAE,UAAYH,KAA7B,CAFK,yCAIAb,CAAAA,KAAK,CAACiB,GAAN,CAAUH,OAAV,CAAmB,CACpCC,OAAO,CAAEA,OAD2B,CAAnB,CAJA,QAIbT,IAJa,iDAQZA,IAAI,CAACG,IARO,6DAUnBF,OAAO,CAACI,KAAR,eAVmB,iCAWZ,EAXY,wEAAH,kBAAdC,CAAAA,cAAc,8CAApB,CAeA,OAASX,UAAT,CAAqBW,cAArB","sourcesContent":["import axios from \"axios\";\r\n\r\nconst fetchToken = async (setToken) => {\r\n  try {\r\n    const resp = await axios.post(\"http://cms.avertra.com/auth/local\", {\r\n      identifier: \"Cms@avertra.com\",\r\n      password: \"Avertra@2021\",\r\n    });\r\n    console.log(resp.data.jwt, \"token\");\r\n    return resp.data.jwt;\r\n  } catch (err) {\r\n    console.error(err);\r\n    return \"\";\r\n  }\r\n};\r\n\r\nconst fetchEmployees = async (token) => {\r\n  const emp_url = \"http://cms.avertra.com/employees\";\r\n  const headers = { Authorization: \"Bearer \" + token };\r\n  try {\r\n    const resp = await axios.get(emp_url, {\r\n      headers: headers,\r\n    });\r\n\r\n    return resp.data;\r\n  } catch (err) {\r\n    console.error(err);\r\n    return [];\r\n  }\r\n};\r\n\r\nexport { fetchToken, fetchEmployees };\r\n"]},"metadata":{},"sourceType":"module"}