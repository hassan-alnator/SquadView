{"ast":null,"code":"import * as api from \"../helpers/Api/fetchDataApi.js\";\nimport store from \"../index\";\nimport * as functionallity from \"../helpers/functionallity/updateAlliances\";\nimport * as fetch from \"../helpers/Api/fetchDataApi\"; // action Creators\n\nexport const getAlliances = () => async dispatch => {\n  try {\n    const data = await api.fetchAlliances(store.getState().token);\n    dispatch({\n      type: \"FETCH_ALL_ALLIANCES\",\n      payload: data\n    });\n    return data;\n  } catch (err) {\n    console.log(err);\n  }\n};\nexport const addTeamToAlliance = (team, alliance, teams, alliances) => async dispatch => {\n  try {\n    const alliancesUpdated = await functionallity.addTeamToAlliance(team, alliance, teams, alliances);\n    console.log(team, \"Dddd team  moved\");\n    var teamsUpdated = await fetch.fetchTeams(store.getState().token);\n    console.log(teamsUpdated, \"Eeee\");\n    team.alliance;\n    var x = teamsUpdated.filter(team => team.alliance == null);\n    console.log(x, \"Eeee 222\");\n    console.log(alliancesUpdated, \"Eeee 222\");\n    dispatch({\n      type: \"UPDATE_TEAMS\",\n      payload: x\n    });\n    dispatch({\n      type: \"UPDATE_ALLIANCES\",\n      payload: alliancesUpdated\n    });\n  } catch (err) {\n    console.log(err);\n  }\n};\nexport const deleteTeamfromalliance = (team, teams, alliance) => async dispatch => {\n  try {\n    const updatedAlliances = await functionallity.updateAlliance(team, alliance);\n    const teamsUpdated = await fetch.fetchTeams(store.getState().token);\n    dispatch({\n      type: \"UPDATE_TEAMS\",\n      payload: teamsUpdated\n    });\n    dispatch({\n      type: \"UPDATE_ALLIANCES\",\n      payload: updatedAlliances\n    });\n  } catch (err) {\n    console.log(err);\n  }\n};","map":{"version":3,"sources":["C:/Users/salaqaily/Downloads/New folder (11)/New folder - Copy/allocation_widget/src/actions/alliances.js"],"names":["api","store","functionallity","fetch","getAlliances","dispatch","data","fetchAlliances","getState","token","type","payload","err","console","log","addTeamToAlliance","team","alliance","teams","alliances","alliancesUpdated","teamsUpdated","fetchTeams","x","filter","deleteTeamfromalliance","updatedAlliances","updateAlliance"],"mappings":"AAAA,OAAO,KAAKA,GAAZ,MAAqB,gCAArB;AACA,OAAOC,KAAP,MAAkB,UAAlB;AACA,OAAO,KAAKC,cAAZ,MAAgC,2CAAhC;AACA,OAAO,KAAKC,KAAZ,MAAuB,6BAAvB,C,CAEA;;AACA,OAAO,MAAMC,YAAY,GAAG,MAAM,MAAOC,QAAP,IAAoB;AACpD,MAAI;AACF,UAAMC,IAAI,GAAG,MAAMN,GAAG,CAACO,cAAJ,CAAmBN,KAAK,CAACO,QAAN,GAAiBC,KAApC,CAAnB;AACAJ,IAAAA,QAAQ,CAAC;AAAEK,MAAAA,IAAI,EAAE,qBAAR;AAA+BC,MAAAA,OAAO,EAAEL;AAAxC,KAAD,CAAR;AACA,WAAOA,IAAP;AACD,GAJD,CAIE,OAAOM,GAAP,EAAY;AACZC,IAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AACD;AACF,CARM;AASP,OAAO,MAAMG,iBAAiB,GAC5B,CAACC,IAAD,EAAOC,QAAP,EAAiBC,KAAjB,EAAwBC,SAAxB,KAAsC,MAAOd,QAAP,IAAoB;AACxD,MAAI;AACF,UAAMe,gBAAgB,GAAG,MAAMlB,cAAc,CAACa,iBAAf,CAC7BC,IAD6B,EAE7BC,QAF6B,EAG7BC,KAH6B,EAI7BC,SAJ6B,CAA/B;AAMAN,IAAAA,OAAO,CAACC,GAAR,CAAYE,IAAZ,EAAkB,kBAAlB;AACA,QAAIK,YAAY,GAAG,MAAMlB,KAAK,CAACmB,UAAN,CAAiBrB,KAAK,CAACO,QAAN,GAAiBC,KAAlC,CAAzB;AACAI,IAAAA,OAAO,CAACC,GAAR,CAAYO,YAAZ,EAA0B,MAA1B;AACAL,IAAAA,IAAI,CAACC,QAAL;AACA,QAAIM,CAAC,GAAGF,YAAY,CAACG,MAAb,CAAqBR,IAAD,IAAUA,IAAI,CAACC,QAAL,IAAiB,IAA/C,CAAR;AACAJ,IAAAA,OAAO,CAACC,GAAR,CAAYS,CAAZ,EAAe,UAAf;AACAV,IAAAA,OAAO,CAACC,GAAR,CAAYM,gBAAZ,EAA8B,UAA9B;AAEAf,IAAAA,QAAQ,CAAC;AAAEK,MAAAA,IAAI,EAAE,cAAR;AAAwBC,MAAAA,OAAO,EAAEY;AAAjC,KAAD,CAAR;AACAlB,IAAAA,QAAQ,CAAC;AAAEK,MAAAA,IAAI,EAAE,kBAAR;AAA4BC,MAAAA,OAAO,EAAES;AAArC,KAAD,CAAR;AACD,GAjBD,CAiBE,OAAOR,GAAP,EAAY;AACZC,IAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AACD;AACF,CAtBI;AAuBP,OAAO,MAAMa,sBAAsB,GACjC,CAACT,IAAD,EAAOE,KAAP,EAAcD,QAAd,KAA2B,MAAOZ,QAAP,IAAoB;AAC7C,MAAI;AACF,UAAMqB,gBAAgB,GAAG,MAAMxB,cAAc,CAACyB,cAAf,CAC7BX,IAD6B,EAE7BC,QAF6B,CAA/B;AAIA,UAAMI,YAAY,GAAG,MAAMlB,KAAK,CAACmB,UAAN,CAAiBrB,KAAK,CAACO,QAAN,GAAiBC,KAAlC,CAA3B;AAEAJ,IAAAA,QAAQ,CAAC;AAAEK,MAAAA,IAAI,EAAE,cAAR;AAAwBC,MAAAA,OAAO,EAAEU;AAAjC,KAAD,CAAR;AAEAhB,IAAAA,QAAQ,CAAC;AAAEK,MAAAA,IAAI,EAAE,kBAAR;AAA4BC,MAAAA,OAAO,EAAEe;AAArC,KAAD,CAAR;AACD,GAVD,CAUE,OAAOd,GAAP,EAAY;AACZC,IAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AACD;AACF,CAfI","sourcesContent":["import * as api from \"../helpers/Api/fetchDataApi.js\";\r\nimport store from \"../index\";\r\nimport * as functionallity from \"../helpers/functionallity/updateAlliances\";\r\nimport * as fetch from \"../helpers/Api/fetchDataApi\";\r\n\r\n// action Creators\r\nexport const getAlliances = () => async (dispatch) => {\r\n  try {\r\n    const data = await api.fetchAlliances(store.getState().token);\r\n    dispatch({ type: \"FETCH_ALL_ALLIANCES\", payload: data });\r\n    return data;\r\n  } catch (err) {\r\n    console.log(err);\r\n  }\r\n};\r\nexport const addTeamToAlliance =\r\n  (team, alliance, teams, alliances) => async (dispatch) => {\r\n    try {\r\n      const alliancesUpdated = await functionallity.addTeamToAlliance(\r\n        team,\r\n        alliance,\r\n        teams,\r\n        alliances\r\n      );\r\n      console.log(team, \"Dddd team  moved\");\r\n      var teamsUpdated = await fetch.fetchTeams(store.getState().token);\r\n      console.log(teamsUpdated, \"Eeee\");\r\n      team.alliance \r\n      var x = teamsUpdated.filter((team) => team.alliance == null);\r\n      console.log(x, \"Eeee 222\");\r\n      console.log(alliancesUpdated, \"Eeee 222\");\r\n\r\n      dispatch({ type: \"UPDATE_TEAMS\", payload: x });\r\n      dispatch({ type: \"UPDATE_ALLIANCES\", payload: alliancesUpdated });\r\n    } catch (err) {\r\n      console.log(err);\r\n    }\r\n  };\r\nexport const deleteTeamfromalliance =\r\n  (team, teams, alliance) => async (dispatch) => {\r\n    try {\r\n      const updatedAlliances = await functionallity.updateAlliance(\r\n        team,\r\n        alliance\r\n      );\r\n      const teamsUpdated = await fetch.fetchTeams(store.getState().token);\r\n\r\n      dispatch({ type: \"UPDATE_TEAMS\", payload: teamsUpdated });\r\n\r\n      dispatch({ type: \"UPDATE_ALLIANCES\", payload: updatedAlliances });\r\n    } catch (err) {\r\n      console.log(err);\r\n    }\r\n  };\r\n"]},"metadata":{},"sourceType":"module"}