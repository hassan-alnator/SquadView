{"ast":null,"code":"import axios from \"axios\";\nimport store from \"../../index\";\nimport alliances from \"../../reducers/alliances\";\n\nconst addTeamToAllianceApi = async (team, alliance) => {\n  var data = JSON.stringify({\n    alliance: alliance.id\n  });\n  const team_url = `http://cms.avertra.com/teams/${team.id}`;\n  var config = {\n    method: \"put\",\n    url: team_url,\n    headers: {\n      Authorization: \"Bearer \" + store.getState().token,\n      \"Content-Type\": \"application/json\"\n    },\n    data: data\n  };\n\n  try {\n    const teamUpdated = await axios(config);\n    return teamUpdated.data;\n  } catch (err) {\n    console.error(err);\n  }\n};\n\nconst createNewTeam = async NewTeamName => {\n  var data = JSON.stringify({\n    Name: NewTeamName\n  });\n  var config = {\n    method: \"post\",\n    url: \"http://cms.avertra.com/teams\",\n    headers: {\n      Authorization: \"Bearer \" + store.getState().token,\n      \"Content-Type\": \"application/json\"\n    },\n    data: data\n  };\n\n  try {\n    const resp = await axios(config);\n    return resp.data;\n  } catch (err) {\n    console.error(err);\n    return {};\n  }\n};\n\nconst deleteTeam = async team => {\n  var config = {\n    method: \"delete\",\n    url: `http://cms.avertra.com/teams/${team.id}`,\n    headers: {\n      Authorization: \"Bearer \" + store.getState().token\n    }\n  };\n\n  try {\n    await axios(config);\n  } catch (err) {\n    console.error(err);\n  }\n};\n\nconst addEmployeeToTeam = async (employee, team, teams) => {\n  const ids = employee[\"teams\"].filter(t => {\n    console.log(t, \"ttttttttttt\");\n    return t.id;\n  });\n  console.log(ids, \"idss\");\n  var data = JSON.stringify({\n    teams: ids.concat(team.id)\n  });\n  console.log({\n    teams: ids.concat(team.id)\n  }, \"dataaAAAA\");\n  const employee_url = `http://cms.avertra.com/employees/${employee.id}`;\n  var config = {\n    method: \"put\",\n    url: employee_url,\n    headers: {\n      Authorization: \"Bearer \" + store.getState().token,\n      \"Content-Type\": \"application/json\"\n    },\n    data: data\n  };\n\n  try {\n    const resp = await axios(config);\n    return resp.data;\n  } catch (err) {\n    console.error(err);\n  }\n};\n\nexport { addTeamToAllianceApi, createNewTeam, deleteTeam, addEmployeeToTeam };","map":{"version":3,"sources":["C:/Users/salaqaily/Desktop/New folder/allocation_widget/src/helpers/Api/helperApis.js"],"names":["axios","store","alliances","addTeamToAllianceApi","team","alliance","data","JSON","stringify","id","team_url","config","method","url","headers","Authorization","getState","token","teamUpdated","err","console","error","createNewTeam","NewTeamName","Name","resp","deleteTeam","addEmployeeToTeam","employee","teams","ids","filter","t","log","concat","employee_url"],"mappings":"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","sourcesContent":["import axios from \"axios\";\r\nimport store from \"../../index\";\r\nimport alliances from \"../../reducers/alliances\";\r\nconst addTeamToAllianceApi = async (team, alliance) => {\r\n  var data = JSON.stringify({\r\n    alliance: alliance.id,\r\n  });\r\n  const team_url = `http://cms.avertra.com/teams/${team.id}`;\r\n\r\n  var config = {\r\n    method: \"put\",\r\n    url: team_url,\r\n    headers: {\r\n      Authorization: \"Bearer \" + store.getState().token,\r\n      \"Content-Type\": \"application/json\",\r\n    },\r\n    data: data,\r\n  };\r\n\r\n  try {\r\n    const teamUpdated = await axios(config);\r\n    return teamUpdated.data;\r\n  } catch (err) {\r\n    console.error(err);\r\n  }\r\n};\r\n\r\nconst createNewTeam = async (NewTeamName) => {\r\n  var data = JSON.stringify({\r\n    Name: NewTeamName,\r\n  });\r\n  var config = {\r\n    method: \"post\",\r\n    url: \"http://cms.avertra.com/teams\",\r\n    headers: {\r\n      Authorization: \"Bearer \" + store.getState().token,\r\n      \"Content-Type\": \"application/json\",\r\n    },\r\n    data: data,\r\n  };\r\n  try {\r\n    const resp = await axios(config);\r\n    return resp.data;\r\n  } catch (err) {\r\n    console.error(err);\r\n    return {};\r\n  }\r\n};\r\nconst deleteTeam = async (team) => {\r\n  var config = {\r\n    method: \"delete\",\r\n    url: `http://cms.avertra.com/teams/${team.id}`,\r\n    headers: {\r\n      Authorization: \"Bearer \" + store.getState().token,\r\n    },\r\n  };\r\n  try {\r\n    await axios(config);\r\n  } catch (err) {\r\n    console.error(err);\r\n  }\r\n};\r\nconst addEmployeeToTeam = async (employee, team, teams) => {\r\n  const ids = employee[\"teams\"].filter((t) => {\r\n    console.log(t, \"ttttttttttt\");\r\n    return t.id;\r\n  });\r\n  console.log(ids, \"idss\");\r\n  var data = JSON.stringify({\r\n    teams: ids.concat(team.id),\r\n  });\r\n  console.log(\r\n    {\r\n      teams: ids.concat(team.id),\r\n    },\r\n    \"dataaAAAA\"\r\n  );\r\n  const employee_url = `http://cms.avertra.com/employees/${employee.id}`;\r\n\r\n  var config = {\r\n    method: \"put\",\r\n    url: employee_url,\r\n    headers: {\r\n      Authorization: \"Bearer \" + store.getState().token,\r\n      \"Content-Type\": \"application/json\",\r\n    },\r\n    data: data,\r\n  };\r\n\r\n  try {\r\n    const resp = await axios(config);\r\n    return resp.data;\r\n  } catch (err) {\r\n    console.error(err);\r\n  }\r\n};\r\nexport { addTeamToAllianceApi, createNewTeam, deleteTeam, addEmployeeToTeam };\r\n"]},"metadata":{},"sourceType":"module"}