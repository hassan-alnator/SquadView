{"ast":null,"code":"import axios from \"axios\";\nexport function getData(token, setToken, employees, setEmployees) {\n  axios.post(\"http://cms.avertra.com/auth/local\", {\n    identifier: \"Cms@avertra.com\",\n    password: \"Avertra@2021\"\n  }).then(response => {\n    console.log(response);\n    setToken(response.data.jwt);\n    const emp_url = \"http://cms.avertra.com/employees\";\n    const headers = {\n      Authorization: \"Bearer \" + token\n    };\n    axios.get(emp_url, {\n      headers: headers\n    }).then(response => {\n      setEmployees(response.data);\n    }).catch(error => {\n      console.log(\"An error occurred:\", error.response);\n    });\n  });\n}","map":{"version":3,"sources":["C:/Users/salaqaily/Desktop/New folder/allocation_widget/src/helpers/Api.js"],"names":["axios","getData","token","setToken","employees","setEmployees","post","identifier","password","then","response","console","log","data","jwt","emp_url","headers","Authorization","get","catch","error"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,OAAO,SAASC,OAAT,CAAiBC,KAAjB,EAAwBC,QAAxB,EAAkCC,SAAlC,EAA6CC,YAA7C,EAA2D;AAChEL,EAAAA,KAAK,CACFM,IADH,CACQ,mCADR,EAC6C;AACzCC,IAAAA,UAAU,EAAE,iBAD6B;AAEzCC,IAAAA,QAAQ,EAAE;AAF+B,GAD7C,EAKMC,IALN,CAKYC,QAAD,IAAc;AAClBC,IAAAA,OAAO,CAACC,GAAR,CAAYF,QAAZ;AACHP,IAAAA,QAAQ,CAACO,QAAQ,CAACG,IAAT,CAAcC,GAAf,CAAR;AACA,UAAMC,OAAO,GAAG,kCAAhB;AAEA,UAAMC,OAAO,GAAG;AAAEC,MAAAA,aAAa,EAAE,YAAYf;AAA7B,KAAhB;AACAF,IAAAA,KAAK,CACFkB,GADH,CACOH,OADP,EACgB;AACZC,MAAAA,OAAO,EAAEA;AADG,KADhB,EAIGP,IAJH,CAISC,QAAD,IAAc;AAClBL,MAAAA,YAAY,CAACK,QAAQ,CAACG,IAAV,CAAZ;AACD,KANH,EAOGM,KAPH,CAOUC,KAAD,IAAW;AAChBT,MAAAA,OAAO,CAACC,GAAR,CAAY,oBAAZ,EAAkCQ,KAAK,CAACV,QAAxC;AACD,KATH;AAUD,GArBH;AAsBD","sourcesContent":["import axios from \"axios\";\r\n\r\nexport function getData(token, setToken, employees, setEmployees) {\r\n  axios\r\n    .post(\"http://cms.avertra.com/auth/local\", {\r\n      identifier: \"Cms@avertra.com\",\r\n      password: \"Avertra@2021\",\r\n    })\r\n       .then((response) => {\r\n         console.log(response)\r\n      setToken(response.data.jwt);\r\n      const emp_url = \"http://cms.avertra.com/employees\";\r\n\r\n      const headers = { Authorization: \"Bearer \" + token };\r\n      axios\r\n        .get(emp_url, {\r\n          headers: headers,\r\n        })\r\n        .then((response) => {\r\n          setEmployees(response.data);\r\n        })\r\n        .catch((error) => {\r\n          console.log(\"An error occurred:\", error.response);\r\n        });\r\n    });\r\n}\r\n"]},"metadata":{},"sourceType":"module"}