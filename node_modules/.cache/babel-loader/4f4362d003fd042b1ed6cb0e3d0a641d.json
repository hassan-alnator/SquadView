{"ast":null,"code":"import axios from \"axios\";\n\nconst fetchToken = async setToken => {\n  try {\n    const resp = await axios.post(\"http://cms.avertra.com/auth/local\", {\n      identifier: \"Cms@avertra.com\",\n      password: \"Avertra@2021\"\n    });\n    return resp.data.jwt;\n  } catch (err) {\n    console.error(err);\n    return \"\";\n  }\n};\n\nconst fetchEmployees = async token => {\n  const emp_url = \"http://cms.avertra.com/employees\";\n  const headers = {\n    Authorization: \"Bearer \" + token\n  };\n\n  try {\n    const resp = await axios.get(emp_url, {\n      headers: headers\n    });\n    return resp.data;\n  } catch (err) {\n    console.error(err);\n    return [];\n  }\n};\n\nconst fetchTeams = async token => {\n  const team_url = \"http://cms.avertra.com/teams\";\n  const headers = {\n    Authorization: \"Bearer \" + token\n  };\n\n  try {\n    const resp = await axios.get(team_url, {\n      headers: headers\n    });\n    return resp.data;\n  } catch (err) {\n    console.error(err);\n    return [];\n  }\n};\n\nconst fetchAlliances = async token => {\n  const alliance_url = \"http://cms.avertra.com/alliances\";\n  const headers = {\n    Authorization: \"Bearer \" + token\n  };\n\n  try {\n    const resp = await axios.get(alliance_url, {\n      headers: headers\n    });\n    return resp.data;\n  } catch (err) {\n    console.error(err);\n    return [];\n  }\n\n  try {\n    const resp = await axios(config);\n    return resp.data;\n  } catch (err) {\n    console.error(err);\n    return {};\n  }\n};\n\nexport { fetchToken, fetchEmployees, fetchTeams, fetchAlliances };","map":{"version":3,"sources":["C:/Users/salaqaily/Desktop/New folder/allocation_widget/src/helpers/Api/fetchDataApi.js"],"names":["axios","fetchToken","setToken","resp","post","identifier","password","data","jwt","err","console","error","fetchEmployees","token","emp_url","headers","Authorization","get","fetchTeams","team_url","fetchAlliances","alliance_url","config"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;;AAEA,MAAMC,UAAU,GAAG,MAAOC,QAAP,IAAoB;AACrC,MAAI;AACF,UAAMC,IAAI,GAAG,MAAMH,KAAK,CAACI,IAAN,CAAW,mCAAX,EAAgD;AACjEC,MAAAA,UAAU,EAAE,iBADqD;AAEjEC,MAAAA,QAAQ,EAAE;AAFuD,KAAhD,CAAnB;AAIA,WAAOH,IAAI,CAACI,IAAL,CAAUC,GAAjB;AACD,GAND,CAME,OAAOC,GAAP,EAAY;AACZC,IAAAA,OAAO,CAACC,KAAR,CAAcF,GAAd;AACA,WAAO,EAAP;AACD;AACF,CAXD;;AAaA,MAAMG,cAAc,GAAG,MAAOC,KAAP,IAAiB;AACtC,QAAMC,OAAO,GAAG,kCAAhB;AACA,QAAMC,OAAO,GAAG;AAAEC,IAAAA,aAAa,EAAE,YAAYH;AAA7B,GAAhB;;AACA,MAAI;AACF,UAAMV,IAAI,GAAG,MAAMH,KAAK,CAACiB,GAAN,CAAUH,OAAV,EAAmB;AACpCC,MAAAA,OAAO,EAAEA;AAD2B,KAAnB,CAAnB;AAIA,WAAOZ,IAAI,CAACI,IAAZ;AACD,GAND,CAME,OAAOE,GAAP,EAAY;AACZC,IAAAA,OAAO,CAACC,KAAR,CAAcF,GAAd;AACA,WAAO,EAAP;AACD;AACF,CAbD;;AAcA,MAAMS,UAAU,GAAG,MAAOL,KAAP,IAAiB;AAClC,QAAMM,QAAQ,GAAG,8BAAjB;AACA,QAAMJ,OAAO,GAAG;AAAEC,IAAAA,aAAa,EAAE,YAAYH;AAA7B,GAAhB;;AACA,MAAI;AACF,UAAMV,IAAI,GAAG,MAAMH,KAAK,CAACiB,GAAN,CAAUE,QAAV,EAAoB;AACrCJ,MAAAA,OAAO,EAAEA;AAD4B,KAApB,CAAnB;AAGA,WAAOZ,IAAI,CAACI,IAAZ;AACD,GALD,CAKE,OAAOE,GAAP,EAAY;AACZC,IAAAA,OAAO,CAACC,KAAR,CAAcF,GAAd;AACA,WAAO,EAAP;AACD;AACF,CAZD;;AAcA,MAAMW,cAAc,GAAG,MAAOP,KAAP,IAAiB;AACtC,QAAMQ,YAAY,GAAG,kCAArB;AACA,QAAMN,OAAO,GAAG;AAAEC,IAAAA,aAAa,EAAE,YAAYH;AAA7B,GAAhB;;AACA,MAAI;AACF,UAAMV,IAAI,GAAG,MAAMH,KAAK,CAACiB,GAAN,CAAUI,YAAV,EAAwB;AACzCN,MAAAA,OAAO,EAAEA;AADgC,KAAxB,CAAnB;AAGA,WAAOZ,IAAI,CAACI,IAAZ;AACD,GALD,CAKE,OAAOE,GAAP,EAAY;AACZC,IAAAA,OAAO,CAACC,KAAR,CAAcF,GAAd;AACA,WAAO,EAAP;AACD;;AAGD,MAAI;AACF,UAAMN,IAAI,GAAG,MAAMH,KAAK,CAACsB,MAAD,CAAxB;AACA,WAAOnB,IAAI,CAACI,IAAZ;AACD,GAHD,CAGE,OAAOE,GAAP,EAAY;AACZC,IAAAA,OAAO,CAACC,KAAR,CAAcF,GAAd;AACA,WAAO,EAAP;AACD;AACF,CArBD;;AAsBA,SAASR,UAAT,EAAqBW,cAArB,EAAqCM,UAArC,EAAiDE,cAAjD","sourcesContent":["import axios from \"axios\";\r\n\r\nconst fetchToken = async (setToken) => {\r\n  try {\r\n    const resp = await axios.post(\"http://cms.avertra.com/auth/local\", {\r\n      identifier: \"Cms@avertra.com\",\r\n      password: \"Avertra@2021\",\r\n    });\r\n    return resp.data.jwt;\r\n  } catch (err) {\r\n    console.error(err);\r\n    return \"\";\r\n  }\r\n};\r\n\r\nconst fetchEmployees = async (token) => {\r\n  const emp_url = \"http://cms.avertra.com/employees\";\r\n  const headers = { Authorization: \"Bearer \" + token };\r\n  try {\r\n    const resp = await axios.get(emp_url, {\r\n      headers: headers,\r\n    });\r\n\r\n    return resp.data;\r\n  } catch (err) {\r\n    console.error(err);\r\n    return [];\r\n  }\r\n};\r\nconst fetchTeams = async (token) => {\r\n  const team_url = \"http://cms.avertra.com/teams\";\r\n  const headers = { Authorization: \"Bearer \" + token };\r\n  try {\r\n    const resp = await axios.get(team_url, {\r\n      headers: headers,\r\n    });\r\n    return resp.data;\r\n  } catch (err) {\r\n    console.error(err);\r\n    return [];\r\n  }\r\n};\r\n\r\nconst fetchAlliances = async (token) => {\r\n  const alliance_url = \"http://cms.avertra.com/alliances\";\r\n  const headers = { Authorization: \"Bearer \" + token };\r\n  try {\r\n    const resp = await axios.get(alliance_url, {\r\n      headers: headers,\r\n    });\r\n    return resp.data;\r\n  } catch (err) {\r\n    console.error(err);\r\n    return [];\r\n  }\r\n\r\n\r\n  try {\r\n    const resp = await axios(config);\r\n    return resp.data;\r\n  } catch (err) {\r\n    console.error(err);\r\n    return {};\r\n  }\r\n};\r\nexport { fetchToken, fetchEmployees, fetchTeams, fetchAlliances };\r\n"]},"metadata":{},"sourceType":"module"}